"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[900],{1900:(R,p,i)=>{i.r(p),i.d(p,{AuthModule:()=>T});var f=i(9808),n=i(3075),u=i(9037),r=i(5e3),l=i(1083),d=i(2972),m=i(6324),g=i(1902);function h(o,a){if(1&o&&(r.TgZ(0,"label",20),r._uU(1),r.qZA()),2&o){const e=a.text;r.xp6(1),r.Oqu(e)}}let v=(()=>{class o{constructor(e,t,s,c,w){this.rutaActiva=e,this.userService=t,this.router=s,this.builderform=c,this.snackBarSrvc=w,this.formResetPassword=this.builderform.group({newPassword:["",[n.kI.required,n.kI.minLength(8)]],confirmPassword:["",[n.kI.required,n.kI.minLength(8)]]})}ngOnInit(){this.token=this.rutaActiva.snapshot.params.token}onResetPass(){const{newPassword:e,confirmPassword:t}=this.formResetPassword.value;this.formResetPassword.valid&&(e===t?this.userService.resetPassword({newPassword:e},{headers:{"token-reset":this.token}}).subscribe({next:c=>{c.success&&(this.snackBarSrvc.openSnackBar("Cambio de contrase\xf1a exitoso"),this.router.navigateByUrl("/auth/login"))},error:c=>{switch(c.error.message){case u.Z.ERROR.EMAIL_AND_TOKEN_REQUORED:this.snackBarSrvc.openSnackBar("Campos faltantes","snackbar-danger");break;case u.Z.ERROR.TOKEN_EXPIRED:this.snackBarSrvc.openSnackBar("Token inv\xe1lido","snackbar-danger");break;default:this.snackBarSrvc.openSnackBar("A ocurrido un error inesperado, intente m\xe1s tarde","snackbar-danger")}}}):(this.snackBarSrvc.openSnackBar("Las contrase\xf1as no coindicen.\n Intente de nuevo","snackbar-danger"),this.formResetPassword.reset()))}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(l.gz),r.Y36(d.e),r.Y36(l.F0),r.Y36(n.qu),r.Y36(m.c))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-reset-password"]],decls:35,vars:1,consts:[[1,"grid-container-auth"],[1,"container-header-login"],[1,"children-header-login"],["routerLink","auth/login"],["src","../../../../assets/img/logo_IPEA_blanco.png","alt","logo-header",1,"logo-header-login"],["href","auth/login",1,"nav-link","text-lg"],[1,"container-login"],["errorTailor","",1,"card-login",3,"formGroup","ngSubmit"],[1,"container-form-login"],[1,"contain-logo-text"],[1,"container-logo-login"],["src","../../../../assets/img/logo_D12 _oficina_de_registro_color.png","alt","logo-d12",1,"logo-d12"],[1,"form-group"],["for","pass",1,"label-form"],["type","password","placeholder","Ingrese su nueva contrase\xf1a","formControlName","newPassword","controlErrorsClass","danger","autofocus","",1,"input-form"],["type","password","placeholder","Confirme su nueva contrase\xf1a","formControlName","confirmPassword","controlErrorsClass","danger",1,"input-form"],[1,"form-control"],["type","submit",1,"btn","btn-primary","wh-50"],["routerLink","/auth/login"],["errorEmail",""],["for","email",1,"danger"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),r._UZ(4,"img",4),r.qZA()(),r.TgZ(5,"div",2)(6,"nav")(7,"ul")(8,"li")(9,"a",5),r._uU(10,"Inicio"),r.qZA()()()()()(),r.TgZ(11,"div",6)(12,"form",7),r.NdJ("ngSubmit",function(){return t.onResetPass()}),r.TgZ(13,"div",8)(14,"div",9)(15,"div",10),r._UZ(16,"img",11),r.qZA(),r.TgZ(17,"p"),r._uU(18,"Resetear contrase\xf1a"),r.qZA()(),r.TgZ(19,"div",12)(20,"label",13),r._uU(21,"Nueva contrase\xf1a:"),r.qZA(),r._UZ(22,"input",14),r.qZA(),r.TgZ(23,"div",12)(24,"label",13),r._uU(25,"Confirmar contrase\xf1a:"),r.qZA(),r._UZ(26,"input",15),r.qZA(),r.TgZ(27,"div",16)(28,"button",17),r._uU(29,"Enviar"),r.qZA()(),r.TgZ(30,"div",16)(31,"a",18),r._uU(32,"Iniciar sesi\xf3n"),r.qZA()()()()()(),r.YNc(33,h,2,1,"ng-template",null,19,r.W1O)),2&e&&(r.xp6(12),r.Q6J("formGroup",t.formResetPassword))},directives:[l.yS,n._Y,n.JL,g.m6,n.sg,g.kH,n.Fj,n.JJ,n.u],encapsulation:2}),o})();function Z(o,a){if(1&o&&(r.TgZ(0,"label",21),r._uU(1),r.qZA()),2&o){const e=a.text;r.xp6(1),r.Oqu(e)}}function b(o,a){if(1&o&&(r.TgZ(0,"label",19),r._uU(1),r.qZA()),2&o){const e=a.text;r.xp6(1),r.Oqu(e)}}const _=[{path:"login",component:(()=>{class o{constructor(e,t,s,c){this.userService=e,this.router=t,this.builderform=s,this.snackBarSrvc=c,this.formLogin=this.builderform.group({email:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required,n.kI.minLength(6)]]})}ngOnInit(){this.userService.isAuthenticated()&&this.router.navigateByUrl("")}onLogin(){this.formLogin.valid&&this.userService.login(this.formLogin.value).subscribe({next:t=>{t.success&&(window.localStorage.setItem("token",t.access_token),this.router.navigateByUrl(""))},error:t=>{switch(t.error.message){case u.Z.ERROR.PASSWORD_INVALID:this.snackBarSrvc.openSnackBar("Constrase\xf1a invalida","snackbar-danger");break;case u.Z.ERROR.USER_NOT_FOUD:this.snackBarSrvc.openSnackBar("Correo incorrecto","snackbar-danger");break;default:this.snackBarSrvc.openSnackBar("Ha ocurrido un error, intente m\xe1s tarde","snackbar-danger")}}})}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(d.e),r.Y36(l.F0),r.Y36(n.qu),r.Y36(m.c))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-login"]],decls:35,vars:2,consts:[[1,"grid-container-auth"],[1,"container-header-login"],[1,"children-header-login"],["routerLink","/auth/login"],["src","../../../../assets/img/logo_IPEA_blanco.png","alt","logo-header",1,"logo-header-login"],["routerLink","/auth/login",1,"nav-link","text-lg"],[1,"container-login"],["errorTailor","",1,"card-login",3,"formGroup","ngSubmit"],[1,"container-form-login"],[1,"contain-logo-text"],[1,"container-logo-login"],["src","../../../../assets/img/logo_D12 _oficina_de_registro_color.png","alt","logo-d12",1,"logo-d12"],[1,"form-group"],["for","email",1,"label-form"],["type","email","placeholder","Ingrese correo","formControlName","email","controlErrorsClass","danger",1,"input-form",3,"controlErrorsTpl"],["for","pass",1,"label-form"],["type","password","placeholder","Ingrese contrase\xf1a","formControlName","password","controlErrorsClass","danger",1,"input-form"],[1,"form-control"],["type","submit",1,"btn","btn-primary","wh-50"],["routerLink","/auth/forgot-password"],["errorEmail",""],["for","email",1,"danger"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),r._UZ(4,"img",4),r.qZA()(),r.TgZ(5,"div",2)(6,"nav")(7,"ul")(8,"li")(9,"a",5),r._uU(10,"Inicio"),r.qZA()()()()()(),r.TgZ(11,"div",6)(12,"form",7),r.NdJ("ngSubmit",function(){return t.onLogin()}),r.TgZ(13,"div",8)(14,"div",9)(15,"div",10),r._UZ(16,"img",11),r.qZA(),r.TgZ(17,"p"),r._uU(18,"Iniciar sesi\xf3n"),r.qZA()(),r.TgZ(19,"div",12)(20,"label",13),r._uU(21,"Usuario:"),r.qZA(),r._UZ(22,"input",14),r.qZA(),r.TgZ(23,"div",12)(24,"label",15),r._uU(25,"contrase\xf1a:"),r.qZA(),r._UZ(26,"input",16),r.qZA(),r.TgZ(27,"div",17)(28,"button",18),r._uU(29,"Enviar"),r.qZA()(),r.TgZ(30,"div",17)(31,"a",19),r._uU(32,"\xbfOlvidaste tu contrase\xf1a?"),r.qZA()()()()()(),r.YNc(33,Z,2,1,"ng-template",null,20,r.W1O)),2&e){const s=r.MAs(34);r.xp6(12),r.Q6J("formGroup",t.formLogin),r.xp6(10),r.Q6J("controlErrorsTpl",s)}},directives:[l.yS,n._Y,n.JL,g.m6,n.sg,g.kH,n.Fj,n.JJ,n.u],encapsulation:2}),o})()},{path:"forgot-password",component:(()=>{class o{constructor(e,t,s,c){this.userService=e,this.router=t,this.builderform=s,this.snackBarSrvc=c,this.formForgotPassword=this.builderform.group({userEmail:["",[n.kI.required,n.kI.email]]})}ngOnInit(){this.userService.isAuthenticated()&&this.router.navigateByUrl("")}onForgortPassword(){this.formForgotPassword.valid&&this.userService.forgotPassword(this.formForgotPassword.value).subscribe({next:t=>{t.url&&(this.snackBarSrvc.openSnackBar("Revise su correo electr\xf3nico para obtener un enlace y poder restablecer su contrase\xf1a","snackbar-success"),this.router.navigateByUrl("auth/login"))},error:t=>{switch(t.error.message){case u.Z.ERROR.USER_NOT_FOUD:this.snackBarSrvc.openSnackBar("Correo incorrecto","snackbar-danger");break;case u.Z.ERROR.EMAIL_REQUERID:this.snackBarSrvc.openSnackBar("Correo es un campo obligatorio","snackbar-danger");break;default:this.snackBarSrvc.openSnackBar("Ha ocurrido un error, intente m\xe1s tarde","snackbar-danger")}}})}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(d.e),r.Y36(l.F0),r.Y36(n.qu),r.Y36(m.c))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-forgot-password"]],decls:31,vars:2,consts:[[1,"grid-container-auth"],[1,"container-header-login"],[1,"children-header-login"],["routerLink","auth/login"],["src","../../../../assets/img/logo_IPEA_blanco.png","alt","logo-header",1,"logo-header-login"],["href","auth/login",1,"nav-link","text-lg"],[1,"container-login"],["errorTailor","",1,"card-login",3,"formGroup","ngSubmit"],[1,"container-form-login"],[1,"contain-logo-text"],[1,"container-logo-login"],["src","../../../../assets/img/logo_D12 _oficina_de_registro_color.png","alt","logo-d12",1,"logo-d12"],[1,"form-group"],["for","email",1,"label-form"],["type","email","placeholder","Ingrese correo","formControlName","userEmail","autofocus","",1,"input-form",3,"controlErrorsTpl"],[1,"form-control"],["type","submit",1,"btn","btn-primary","wh-50"],["routerLink","/auth/login"],["errorEmail",""],["for","email",1,"danger"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),r._UZ(4,"img",4),r.qZA()(),r.TgZ(5,"div",2)(6,"nav")(7,"ul")(8,"li")(9,"a",5),r._uU(10,"Inicio"),r.qZA()()()()()(),r.TgZ(11,"div",6)(12,"form",7),r.NdJ("ngSubmit",function(){return t.onForgortPassword()}),r.TgZ(13,"div",8)(14,"div",9)(15,"div",10),r._UZ(16,"img",11),r.qZA(),r.TgZ(17,"p"),r._uU(18,"Recurerar contrase\xf1a"),r.qZA()(),r.TgZ(19,"div",12)(20,"label",13),r._uU(21,"Correo:"),r.qZA(),r._UZ(22,"input",14),r.qZA(),r.TgZ(23,"div",15)(24,"button",16),r._uU(25,"Enviar"),r.qZA()(),r.TgZ(26,"div",15)(27,"a",17),r._uU(28,"Iniciar sesi\xf3n"),r.qZA()()()()()(),r.YNc(29,b,2,1,"ng-template",null,18,r.W1O)),2&e){const s=r.MAs(30);r.xp6(12),r.Q6J("formGroup",t.formForgotPassword),r.xp6(10),r.Q6J("controlErrorsTpl",s)}},directives:[l.yS,n._Y,n.JL,g.m6,n.sg,g.kH,n.Fj,n.JJ,n.u],encapsulation:2}),o})()},{path:"reset-password/:token",component:v}];let A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[l.Bz.forChild(_)],l.Bz]}),o})();var S=i(2061);let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[f.ez,A,n.u5,n.UX,g.OX.forRoot({errors:S.Z})]]}),o})()}}]);